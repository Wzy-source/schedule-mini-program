{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/mac/Desktop/works/菲姐小程序前端/font-end/pages/index/index.vue?2418","webpack:////Users/mac/Desktop/works/菲姐小程序前端/font-end/pages/index/index.vue?1f3c","webpack:////Users/mac/Desktop/works/菲姐小程序前端/font-end/pages/index/index.vue?f00c","webpack:////Users/mac/Desktop/works/菲姐小程序前端/font-end/pages/index/index.vue?5abe","webpack:////Users/mac/Desktop/works/菲姐小程序前端/font-end/pages/index/index.vue?57ac","uni-app:///pages/index/index.vue"],"names":["createPage","Page"],"mappings":"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A,mEACA,gBADA,sBACA,gBADA,CADA,EAGA,OAHA,mBAGA,GAHA,EAGA,CACA,iBACA,8BACA,qBACA,CAPA,IASA,CAlEA,EAmEA,cAnEA,4BAmEA,CACA,iBACA,cACA,yEACA,gBADA,sBACA,gBADA,CADA,EAGA,OAHA,mBAGA,GAHA,EAGA,CACA,iCACA,CALA,IAOA,CA5EA,EA6EA,YA7EA,0BA6EA,CACA,oBACA,kBACA,cACA,8BACA,iBACA,uDACA,yCACA,qCACA,sCACA,CACA,0DACA,4CACA,yCACA,CACA,mBACA,CACA,6BACA,kBACA,8BACA,gBACA,0BADA,EAEA,4CAFA,EAGA,uBAHA,EAIA,YAJA,IAMA,CACA,wBACA,CACA,6BACA,wBACA,4CACA,wBACA,8CACA,0CACA,6CACA,sBACA,CACA,wCACA,CACA,CAEA,2CACA,mBACA,8CACA,mCACA,+BACA,CACA,CACA,+BACA,CACA;AACA,KAjIA;;AAmIA,eAnIA,yBAmIA;AACA,yDADA,CACA;AACA;AACA,sFADA;AAEA,sFAFA;AAGA,sFAHA;AAIA,sFAJA;AAKA,sFALA;AAMA,sFANA;AAOA,iFAPA;;AASA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA5KA;AA6KA,mBA7KA,6BA6KA;AACA;AACA;AACA;AACA;AACA,+CADA;AAEA,wBAFA;AAGA;AACA,+DADA,EAHA;;AAMA;AACA,oCADA;AAEA,wCAFA;AAGA,oCAHA;AAIA,mCAJA;AAKA,uCALA,EANA;;AAaA,iBAbA,mBAaA,GAbA,EAaA;AACA;AACA;AACA;AACA;AACA;AACA,WAnBA;;AAqBA,OAtBA,MAsBA;AACA;AACA,kDADA;AAEA,wBAFA;AAGA;AACA,+DADA,EAHA;;AAMA;AACA,oCADA;AAEA,wCAFA;AAGA,oCAHA;AAIA,mCAJA;AAKA,uCALA;AAMA,4CANA;AAOA,oCAPA,EANA;;AAeA,iBAfA,mBAeA,GAfA,EAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA,mBADA,mBACA,GADA,oBACA,wBADA,cACA,sBADA;AAEA;AACA;AACA,WA9BA;;AAgCA;AACA,KAxOA;AAyOA,cAzOA,wBAyOA;AACA;;AAEA,KA5OA;;AA8OA,eA9OA,yBA8OA;AACA;;AAEA,KAjPA;;AAmPA,qBAnPA,+BAmPA;AACA;AACA;AACA;AACA,+CADA;AAEA;AACA,gDADA,EAFA;;AAKA,wBALA;AAMA;AACA,+DADA,EANA;;AASA,iBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA,WAbA;;AAeA,OAhBA,MAgBA;AACA;AACA,kDADA;AAEA;AACA,4CADA;AAEA,sDAFA,EAFA;;AAMA,wBANA;AAOA;AACA,+DADA,EAPA;;AAUA,iBAVA,mBAUA,GAVA,EAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA,WApBA;;AAsBA;AACA,KA7RA;AA8RA,aA9RA,uBA8RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzSA;AA0SA,mBA1SA,2BA0SA,KA1SA,EA0SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlTA;AAmTA,iBAnTA,yBAmTA,KAnTA,EAmTA;AACA;AACA;AACA,KAtTA;AAuTA,WAvTA,qBAuTA;AACA;AACA,0BADA;AAEA,sBAFA;AAGA,eAHA,mBAGA,QAHA,EAGA;AACA;AACA,4CADA;AAEA,0BAFA;AAGA;AACA,iEADA,EAHA;;AAMA;AACA,iCADA,EANA;;AASA,mBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA,gCADA,CACA,MADA,CADA;AAGA,yBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,+BADA;AAEA;AACA,mBARA;;AAUA,eAZA,MAYA;AACA;AACA;AACA,aAzBA;AA0BA,gBA1BA,gBA0BA,GA1BA,EA0BA;AACA;AACA,aA5BA;;AA8BA,SAlCA;;AAoCA,KA5VA,EA1FA;;AAwbA,QAxbA,oBAwbA;AACA;AACA;AACA,GA3bA;AA4bA,cA5bA,wBA4bA,CA5bA,EA4bA;AACA;AACA,GA9bA;AA+bA;AACA;AACA;AACA,qBADA;AAEA,gBAFA;;AAIA;AACA,qBADA;AAEA,gBAFA,EAJA;;AAQA;AACA,qBADA;AAEA,gBAFA,EARA;;AAYA;AACA,qBADA;AAEA,gBAFA,EAZA;;AAgBA;AACA,qBADA;AAEA,gBAFA,EAhBA;;AAoBA;AACA,qBADA;AAEA,gBAFA,EApBA;;AAwBA;AACA,qBADA;AAEA,gBAFA,EAxBA;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA,KArCA,EA/bA,E","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.itemInfo.date.substring(5)\n  var g1 = _vm.itemInfo.date.substring(5)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1630315741112\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","<template>\r\n\t<view>\r\n\t\t<view class=\"page\">\r\n\t\t\t<view class=\"dayTime\">\r\n\t\t\t\t<view class=\"month\">\r\n\t\t\t\t\t<view>{{monthInfo.month}}</view>\r\n\t\t\t\t\t<view>{{monthInfo.monthEng}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"dayTimeItem\" v-for=\"(item , index) in dayTimeList\" :key=\"index\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"itemNum\">{{index+1}}</view>\r\n\t\t\t\t\t\t<view class=\"startTime\">{{item.start}}</view>\r\n\t\t\t\t\t\t<view class=\"endTime\">{{item.end}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"weekDay\">\r\n\t\t\t\t<view v-for=\"(item,index) in weekDayList\" class=\"weekDayItem\" :key='index'>\r\n\t\t\t\t\t<view class=\"weekDayHeight\">\r\n\t\t\t\t\t\t<view>{{item.weekDay}}</view>\r\n\t\t\t\t\t\t<view>{{item.date}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"weekDayItemContainer\">\r\n\t\t\t\t\t\t<!-- 在这里放置若干个组件 -->\r\n\t\t\t\t\t\t<view v-for=\"(scheduleItem , itemIndex) in totalList[index]\" :key=\"itemIndex\">\r\n\t\t\t\t\t\t\t<schedule-item :schedule=\"totalList[index][itemIndex]\" @tap=\"onClick(index,itemIndex)\"\r\n\t\t\t\t\t\t\t\t@longpress=\"onLongPress(index,itemIndex)\" :height=\"totalList[index][itemIndex].height\">\r\n\t\t\t\t\t\t\t</schedule-item>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 操作删除和确认的两个按钮 -->\r\n\t\t\t<view class=\"optBtn\" v-show=\"showOptBtn\">\r\n\t\t\t\t<view class=\"confirmBtn\" @tap=\"confirmItem()\">\r\n\t\t\t\t\t<image src=\"../../static/operation/access.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"deleteBtn\" @tap='deleteItem'>\r\n\t\t\t\t\t<image src=\"../../static/operation/delete.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"modal\">\r\n\t\t\t<view class=\"cu-modal\" :class=\"modalName=='DialogModal1'?'show':''\">\r\n\t\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t\t<view class=\"content\">温馨提示</view>\r\n\t\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t\t请进行登陆和实名认证\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t<button class=\"cu-btn line-blue text-blue\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-blue margin-left\" @tap=\"toLogin\">确定</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 点击标签事件弹出的模态框 -->\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='clickEvent'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">当前日程</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t<!-- 起止时间、人物、地点、内容 -->\r\n\t\t\t\t\t<view class=\"date scheduleItem\">\r\n\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/calendar.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t<view class=\"scheduleTxt\">日期：{{itemInfo.date.substring(5)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"time scheduleItem\">\r\n\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/time.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t<view class=\"scheduleTxt\">时间：{{itemInfo.startTime}} - {{itemInfo.endTime}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"place scheduleItem\">\r\n\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/place.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t<view class=\"scheduleTxt\">地点：{{itemInfo.place}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name scheduleItem\">\r\n\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/people.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t<view class=\"scheduleTxt\">人物：{{itemInfo.name}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"content scheduleItem\">\r\n\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/task.png\" mode=\"\"></image>\r\n\t\t\t\t\t\t<view class=\"scheduleTxt\">内容：{{itemInfo.content}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 长按空白事件弹出的模态框 -->\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='longpressEvent'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\" v-if=\"isTeacher==='true'\">新建日程</view>\r\n\t\t\t\t\t<view class=\"content\" v-else>新建预约</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\">\r\n\t\t\t\t\t<view class=\"createScheduleItem\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/calendar.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 现在只是做老师端，后续长按的人物就需要 -->\r\n\t\t\t\t\t\t<view class=\"createTxt\">日期：{{itemInfo.date.substring(5)}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"createScheduleItem\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/time.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\">\r\n\t\t\t\t\t\t\t<view>时间：</view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<picker mode=\"selector\" :range=\"startHourRange\" :value='startHourIndex'\r\n\t\t\t\t\t\t\t\t\t@change='startHourChange'>\r\n\t\t\t\t\t\t\t\t\t<view class=\"pickerFontStyle\">{{startHourTxt}}</view>\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"marginBetween\"> - </view>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<picker mode=\"selector\" :range=\"endHourRange\" :value='endHourIndex'\r\n\t\t\t\t\t\t\t\t\t@change='endHourChange'>\r\n\t\t\t\t\t\t\t\t\t<view class=\"pickerFontStyle\">{{endHourTxt}}</view>\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"createScheduleItem\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/people.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\" v-if=\"isTeacher==='false'\">人物：{{studentName}}</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\" v-else>人物：毕菲菲</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"createScheduleItem\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/place.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\">地点：</view>\r\n\t\t\t\t\t\t<view class=\"createInput\">\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"createPlace\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"createScheduleItem\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/task.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\">内容：</view>\r\n\t\t\t\t\t\t<view class=\"createInput\">\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"createContent\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"createScheduleItem\" v-if=\"isTeacher==='false'\">\r\n\t\t\t\t\t\t<view class=\"createIcon\">\r\n\t\t\t\t\t\t\t<image src=\"../../static/scheduleIcon/record.png\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"createTxt\">备注：</view>\r\n\t\t\t\t\t\t<view class=\"createInput\">\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"otherContent\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<button class=\"cu-btn line-blue text-blue\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-blue margin-left\" @tap=\"saveCurrentInfo\">确定</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 点击删除按钮弹出的底部窗口 -->\r\n\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName=='confirmDelete'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white\">\r\n\t\t\t\t\t<button class=\"cu-btn bg-gradual-blue left\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t<button class=\"cu-btn bg-yellow right\" @tap='confirmDeleteItem'>确定</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl confirmDeleteTxt\">\r\n\t\t\t\t\t确定删除该日程吗？\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 学生预约后弹出的窗口 -->\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='appointmentAlertMsgModal'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">温馨提示</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-xl\" style=\"font-size: 30rpx;\">\r\n\t\t\t\t\t{{appointmentAlertMsg}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport baseUrl from '../../url.js'\r\n\timport scheduleItem from '../../components/scheduleItem.vue'\r\n\timport moment from 'moment'\r\n\timport Vue from 'vue'\n\timport vgtTab from '../../components/vgt-tab/vgt-tab.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tscheduleItem,\n\t\t\tvgtTab\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdayTimeList: [{\r\n\t\t\t\t\t\tstart: '09:00',\r\n\t\t\t\t\t\tend: '10:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '10:00',\r\n\t\t\t\t\t\tend: '11:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '11:00',\r\n\t\t\t\t\t\tend: '12:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '12:00',\r\n\t\t\t\t\t\tend: '13:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '13:00',\r\n\t\t\t\t\t\tend: '14:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '14:00',\r\n\t\t\t\t\t\tend: '15:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '15:00',\r\n\t\t\t\t\t\tend: '16:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '16:00',\r\n\t\t\t\t\t\tend: '17:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '17:00',\r\n\t\t\t\t\t\tend: '18:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '18:00',\r\n\t\t\t\t\t\tend: '19:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tstart: '19:00',\r\n\t\t\t\t\t\tend: '20:00'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tisTeacher: uni.getStorageSync('isTeacher'),\r\n\t\t\t\tweekSchedule: {},\r\n\t\t\t\tweekAppointment: {},\r\n\t\t\t\ttotalList: [],\r\n\t\t\t\tweekDate: {},\r\n\t\t\t\t//模态框相关data\r\n\t\t\t\tmodalName: '',\r\n\t\t\t\tcreatePlace: '',\r\n\t\t\t\tcreateContent: '',\r\n\t\t\t\titemInfo: {\r\n\t\t\t\t\tdate: '',\r\n\t\t\t\t\tplace: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\trowIndex: 0,\r\n\t\t\t\t\tcolIndex: 0\r\n\t\t\t\t}, //点击or长按要显示的内容\r\n\t\t\t\t//长按弹出的按钮\r\n\t\t\t\tshowOptBtn: false,\r\n\t\t\t\tanimationData: {}, //控制微动画\r\n\t\t\t\tstartHourRange: [],\r\n\t\t\t\tstartHourTxt: '请选择',\r\n\t\t\t\tendHourRange: [],\r\n\t\t\t\tendHourTxt: '请选择',\r\n\t\t\t\tstartHourIndex: 0,\r\n\t\t\t\tendHourIndex: 0,\r\n\t\t\t\t//学生相关\r\n\t\t\t\tstudentName: uni.getStorageSync('name'),\r\n\t\t\t\totherContent: '',\r\n\t\t\t\t//学生预约成功失败提示文字\r\n\t\t\t\tappointmentAlertMsg: '',\r\n\t\t\t\t//当前月份\r\n\t\t\t\tmonthInfo: {},\n\t\t\t\t//周数选择相关\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tdoInit() {\r\n\t\t\t\t// 初始化操作：若没登录，则进行登陆，若已经登录，则获取日程安排\r\n\t\t\t\tlet avatarUrl = uni.getStorageSync('avatarUrl');\r\n\t\t\t\tlet nickName = uni.getStorageSync('nickName');\r\n\t\t\t\tlet name = uni.getStorageSync('name')\r\n\t\t\t\tif (nickName.length === 0 || avatarUrl.length === 0 || name.length === 0) { //没有本地存储为新用户，请先登录\r\n\t\t\t\t\tthis.modalName = 'DialogModal1'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onLogin()\r\n\t\t\t\t\tthis.getAppointment()\r\n\t\t\t\t\tthis.getWeekSchedule()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thideModal() {\r\n\t\t\t\tthis.modalName = null\r\n\t\t\t\tthis.startHourTxt = '请选择'\r\n\t\t\t\tthis.endHourTxt = '请选择'\r\n\t\t\t},\r\n\t\t\ttoLogin() {\r\n\t\t\t\tthis.modalName = null;\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonClick(i, j) {\r\n\t\t\t\tthis.showOptBtn = false\r\n\t\t\t\tthis.itemInfo = this.totalList[i][j];\r\n\t\t\t\tif (this.itemInfo.type !== 'none') {\r\n\t\t\t\t\t//点击事件，显示模态框\r\n\t\t\t\t\tthis.modalName = 'clickEvent'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonLongPress(i, j) {\r\n\t\t\t\tthis.itemInfo = this.totalList[i][j];\r\n\t\t\t\tif (this.itemInfo.type === 'none') {\r\n\t\t\t\t\tthis.startHourRange = []\r\n\t\t\t\t\tthis.endHourRange = []\r\n\t\t\t\t\tthis.otherContent = ''\r\n\t\t\t\t\tthis.createPlace = ''\r\n\t\t\t\t\tthis.createContent = ''\r\n\t\t\t\t\tthis.startHourTxt = '请选择'\r\n\t\t\t\t\tthis.endHourTxt = '请选择'\r\n\t\t\t\t\tthis.modalName = 'longpressEvent'\r\n\t\t\t\t\tlet startHour = parseInt(this.itemInfo.startTime.split(':')[0])\r\n\t\t\t\t\tfor (var i = startHour; i < 20; i++) {\r\n\t\t\t\t\t\tlet hourStr = (i === 9 ? '09:00' : i + ':00')\r\n\t\t\t\t\t\tthis.startHourRange.push(hourStr)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.isTeacher === 'true' && (this.itemInfo.type === 'teacher')) {\r\n\t\t\t\t\tthis.showOptBtn = true\r\n\t\t\t\t} else if (this.isTeacher === 'false' && (this.itemInfo.type === 'student')) {\r\n\t\t\t\t\tthis.showOptBtn = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetWeekSchedule() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: baseUrl +\r\n\t\t\t\t\t\t`schedule/getScheduleByDate?startDate=${this.weekDate[1]}&endDate=${this.weekDate[7]}`,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t_this.weekSchedule = res.data\r\n\t\t\t\t\t\t_this.setTotalList()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetAppointment() {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: baseUrl +\r\n\t\t\t\t\t\t`appointment/getAppointmentByDate?startDate=${this.weekDate[1]}&endDate=${this.weekDate[7]}`,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.weekAppointment = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetTotalList() {\r\n\t\t\t\tthis.totalList = []\r\n\t\t\t\tlet tempList = []\r\n\t\t\t\tlet list = []\r\n\t\t\t\tfor (var i = 1; i <= 7; i++) {\r\n\t\t\t\t\tlet dayList = []\r\n\t\t\t\t\tfor (var j = 0; j < this.weekSchedule[i].length; j++) {\r\n\t\t\t\t\t\tthis.weekSchedule[i][j].type = 'teacher'\r\n\t\t\t\t\t\tthis.weekSchedule[i][j].name = '毕菲菲'\r\n\t\t\t\t\t\tdayList.push(this.weekSchedule[i][j])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (var k = 0; k < this.weekAppointment[i].length; k++) {\r\n\t\t\t\t\t\tthis.weekAppointment[i][k].type = 'student'\r\n\t\t\t\t\t\tdayList.push(this.weekAppointment[i][k])\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(dayList)\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\tlet dayList = []\r\n\t\t\t\t\tfor (var j = 0; j < 11; j++) {\r\n\t\t\t\t\t\tdayList.push({\r\n\t\t\t\t\t\t\tdate: this.weekDate[i + 1],\r\n\t\t\t\t\t\t\tstartTime: j === 0 ? '09:00' : (j + 9) + ':00',\r\n\t\t\t\t\t\t\tendTime: (j + 10) + ':00',\r\n\t\t\t\t\t\t\ttype: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttempList.push(dayList)\r\n\t\t\t\t}\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\tlet dayList = list[i];\r\n\t\t\t\t\tfor (var j = 0; j < dayList.length; j++) {\r\n\t\t\t\t\t\tlet item = dayList[j];\r\n\t\t\t\t\t\tlet startIndex = parseInt(item.startTime) - 9;\r\n\t\t\t\t\t\tlet endIndex = parseInt(item.endTime) - 9;\r\n\t\t\t\t\t\tfor (var k = startIndex; k < endIndex; k++) {\r\n\t\t\t\t\t\t\tdelete tempList[i][k]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttempList[i].splice(startIndex, 1, item)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < tempList.length; i++) {\r\n\t\t\t\t\tlet dayList = []\r\n\t\t\t\t\tfor (var j = 0; j < tempList[i].length; j++) {\r\n\t\t\t\t\t\tif (tempList[i][j] !== undefined) {\r\n\t\t\t\t\t\t\tdayList.push(tempList[i][j])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.totalList.push(dayList)\r\n\t\t\t\t}\r\n\t\t\t\tthis.setHeight()\r\n\t\t\t},\r\n\r\n\t\t\tsetWeekDate() {\r\n\t\t\t\tvar weekOfday = moment().format('E'); //计算今天是这周第几天\r\n\t\t\t\tthis.weekDate = {\r\n\t\t\t\t\t1: moment().subtract(weekOfday - 1, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t2: moment().subtract(weekOfday - 2, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t3: moment().subtract(weekOfday - 3, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t4: moment().subtract(weekOfday - 4, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t5: moment().subtract(weekOfday - 5, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t6: moment().subtract(weekOfday - 6, 'days').format('YYYY-MM-DD'),\r\n\t\t\t\t\t7: moment().add(7 - weekOfday, 'days').format('YYYY-MM-DD')\r\n\t\t\t\t}\r\n\t\t\t\tlet currentMonthStr = moment().format('MM')\r\n\t\t\t\tlet currentMonth = parseInt(currentMonthStr)\r\n\t\t\t\tlet monthEnglishStr = ''\r\n\t\t\t\tif (currentMonth === 1) {\r\n\t\t\t\t\tmonthEnglishStr = 'Jan.'\r\n\t\t\t\t} else if (currentMonth === 2) {\r\n\t\t\t\t\tmonthEnglishStr = 'Feb.'\r\n\t\t\t\t} else if (currentMonth === 3) {\r\n\t\t\t\t\tmonthEnglishStr = 'Mar.'\r\n\t\t\t\t} else if (currentMonth === 4) {\r\n\t\t\t\t\tmonthEnglishStr = 'Apr.'\r\n\t\t\t\t} else if (currentMonth === 5) {\r\n\t\t\t\t\tmonthEnglishStr = 'May'\r\n\t\t\t\t} else if (currentMonth === 6) {\r\n\t\t\t\t\tmonthEnglishStr = 'Jun.'\r\n\t\t\t\t} else if (currentMonth === 7) {\r\n\t\t\t\t\tmonthEnglishStr = 'Jul.'\r\n\t\t\t\t} else if (currentMonth === 8) {\r\n\t\t\t\t\tmonthEnglishStr = 'Aug.'\r\n\t\t\t\t} else if (currentMonth === 9) {\r\n\t\t\t\t\tmonthEnglishStr = 'Sep.'\r\n\t\t\t\t} else if (currentMonth === 10) {\r\n\t\t\t\t\tmonthEnglishStr = 'Oct.'\r\n\t\t\t\t} else if (currentMonth === 11) {\r\n\t\t\t\t\tmonthEnglishStr = 'Nov.'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmonthEnglishStr = 'Dec.'\r\n\t\t\t\t}\r\n\t\t\t\tthis.monthInfo.month = currentMonth + '月'\r\n\t\t\t\tthis.monthInfo.monthEng = monthEnglishStr\r\n\t\t\t},\r\n\t\t\tsaveCurrentInfo() {\r\n\t\t\t\tthis.modalName = ''\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tif (this.isTeacher === 'true') {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: baseUrl + 'schedule/create',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdate: this.itemInfo.date,\r\n\t\t\t\t\t\t\tstartTime: this.startHourTxt,\r\n\t\t\t\t\t\t\tendTime: this.endHourTxt,\r\n\t\t\t\t\t\t\tplace: this.createPlace,\r\n\t\t\t\t\t\t\tcontent: this.createContent\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t_this.createPlace = ''\r\n\t\t\t\t\t\t\t_this.createContent = ''\r\n\t\t\t\t\t\t\t_this.startHourTxt = '请选择'\r\n\t\t\t\t\t\t\t_this.endHourTxt = '请选择'\r\n\t\t\t\t\t\t\t_this.doInit()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: baseUrl + 'appointment/create',\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tdate: this.itemInfo.date,\r\n\t\t\t\t\t\t\tstartTime: this.startHourTxt,\r\n\t\t\t\t\t\t\tendTime: this.endHourTxt,\r\n\t\t\t\t\t\t\tplace: this.createPlace,\r\n\t\t\t\t\t\t\tcontent: this.createContent,\r\n\t\t\t\t\t\t\tskey: uni.getStorageSync('skey'),\r\n\t\t\t\t\t\t\tother: this.otherContent\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t_this.createPlace = ''\r\n\t\t\t\t\t\t\t_this.createContent = ''\r\n\t\t\t\t\t\t\t_this.startHourTxt = '请选择'\r\n\t\t\t\t\t\t\t_this.endHourTxt = '请选择'\r\n\t\t\t\t\t\t\t_this.modalName = 'appointmentAlertMsgModal'\r\n\t\t\t\t\t\t\tif (res.data.code === -1) {\r\n\t\t\t\t\t\t\t\t_this.appointmentAlertMsg = res.data.msg;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tlet month = parseInt(_this.itemInfo.date.substring(5).split('-')[0])\r\n\t\t\t\t\t\t\t\tlet day = parseInt(_this.itemInfo.date.substring(5).split('-')[1])\r\n\t\t\t\t\t\t\t\t_this.appointmentAlertMsg =\r\n\t\t\t\t\t\t\t\t\t`成功预约 ${month}月${day}日 ${_this.itemInfo.startTime}-${_this.itemInfo.endTime}时段，待老师同意后，您的预约将显示在此处`\r\n\t\t\t\t\t\t\t\t_this.doInit()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteItem() {\r\n\t\t\t\tthis.modalName = 'confirmDelete'\r\n\r\n\t\t\t},\r\n\r\n\t\t\tconfirmItem() { //确认日程\r\n\t\t\t\tthis.showOptBtn = false\r\n\r\n\t\t\t},\r\n\r\n\t\t\tconfirmDeleteItem() { //删除日程scheduleId\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tif (this.isTeacher === 'true' && (this.itemInfo.type === 'teacher')) {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: baseUrl + 'schedule/delete',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tscheduleId: this.itemInfo.scheduleId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t_this.doInit()\r\n\t\t\t\t\t\t\t_this.hideModal()\r\n\t\t\t\t\t\t\t_this.showOptBtn = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.isTeacher === 'false' && (this.itemInfo.type === 'student')) {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: baseUrl + 'appointment/cancel',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tskey: uni.getStorageSync('skey'),\r\n\t\t\t\t\t\t\tappointmentId: this.itemInfo.appointmentId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t_this.hideModal()\r\n\t\t\t\t\t\t\t_this.showOptBtn = false\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.data.code === -1) {\r\n\t\t\t\t\t\t\t\t_this.appointmentAlertMsg = res.data.msg\r\n\t\t\t\t\t\t\t\t_this.modalName = 'appointmentAlertMsgModal'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.doInit()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetHeight() {\r\n\t\t\t\tfor (var i = 0; i < this.totalList.length; i++) {\r\n\t\t\t\t\tfor (var j = 0; j < this.totalList[i].length; j++) {\r\n\t\t\t\t\t\tlet startTime = this.totalList[i][j].startTime\r\n\t\t\t\t\t\tlet endTime = this.totalList[i][j].endTime\r\n\t\t\t\t\t\tlet height = 160 * (parseInt((endTime.split(\":\")[0])) - parseInt((startTime.split(\":\")[0])))\r\n\t\t\t\t\t\tthis.totalList[i][j].height = height\r\n\t\t\t\t\t\tthis.totalList[i][j].rowIndex = i;\r\n\t\t\t\t\t\tthis.totalList[i][j].colIndex = j\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstartHourChange(event) {\r\n\t\t\t\tlet index = event.detail.value\r\n\t\t\t\tthis.startHourTxt = this.startHourRange[index]\r\n\t\t\t\tlet startHour = parseInt(this.startHourTxt.split(':')[0])\r\n\t\t\t\tfor (var i = startHour + 1; i <= 20; i++) {\r\n\t\t\t\t\tlet endStr = i + ':00'\r\n\t\t\t\t\tthis.endHourRange.push(endStr)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tendHourChange(event) {\r\n\t\t\t\tlet index = event.detail.value\r\n\t\t\t\tthis.endHourTxt = this.endHourRange[index]\r\n\t\t\t},\r\n\t\t\tonLogin() {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tsuccess(loginRes) {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: baseUrl + 'user/login',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tcode: loginRes.code\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('skey', res.data.skey)\r\n\t\t\t\t\t\t\t\t\tuni.request({ //判断是不是老师\r\n\t\t\t\t\t\t\t\t\t\turl: baseUrl + 'user/getInformation?skey=' + uni\r\n\t\t\t\t\t\t\t\t\t\t\t.getStorageSync('skey'),\r\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.data.code === 200) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('isTeacher', res.data.data\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.isTeacher);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log('login失败')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\tconsole.log('接口调用失败')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.setWeekDate()\r\n\t\t\tthis.doInit();\r\n\t\t},\r\n\t\tonTabItemTap(e) {\r\n\t\t\tthis.doInit()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tweekDayList: function() {\r\n\t\t\t\tlet list = [{\r\n\t\t\t\t\t\tweekDay: '周一',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周二',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周三',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周四',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周五',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周六',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tweekDay: '周日',\r\n\t\t\t\t\t\tdate: ''\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t\tif (this.weekDate[1]) {\r\n\t\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\t\tlist[i].date = this.weekDate[i + 1].substring(5)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn list\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\t.page {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\ttext-align: center;\r\n\t\tpadding: 12rpx;\r\n\t}\r\n\r\n\t.dayTime {\r\n\t\twidth: 10%;\r\n\t\tdisplay: grid;\r\n\t\t/* 单元格的高度 */\r\n\t\tgrid-template-rows: 90rpx repeat(11, 160rpx);\r\n\t}\r\n\r\n\t.month {\n\t\theight: 90rpx;\r\n\t}\n\t.weekDayHeight{\n\t\theight: 90rpx;\n\t}\r\n\r\n\t.dayTimeItem {\r\n\t\tborder: none;\r\n\t\tborder-bottom: 1upx solid rgba(0, 0, 0, 0.1);\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 26rpx;\r\n\t\tjustify-content: center;\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t}\r\n\r\n\t.dayTimeItem>view {\r\n\t\talign-self: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.dayTimeItem>view>view {\r\n\t\talign-self: center;\r\n\t}\r\n\r\n\r\n\r\n\t.weekDayItemContainer {\r\n\t\t/* 若修改单元格的高度，这里也要同步修改 */\r\n\t\theight: 1760rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.weekDay {\r\n\t\tdisplay: grid;\r\n\t\twidth: 100%;\r\n\t\tgrid-template-columns: repeat(7, 14.2857142857%);\r\n\t}\r\n\r\n\r\n\t.padding-xl {\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.scheduleItem {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.scheduleItem>image {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t}\r\n\r\n\t.scheduleTxt {\r\n\t\tmargin-left: 16rpx;\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t\tfont-size: 30rpx;\r\n\t\ttext-align: left;\r\n\t}\r\n\r\n\r\n\t.createScheduleItem {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 16rpx;\r\n\t}\r\n\r\n\t.createIcon {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t}\r\n\r\n\t.createIcon>image {\r\n\t\theight: 100%;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.createTxt {\r\n\t\tmargin-left: 16rpx;\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t\tfont-size: 30rpx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.createTxt>view {\r\n\t\talign-self: center;\r\n\t}\r\n\r\n\t.createInput {\r\n\r\n\t\twidth: 60%;\r\n\t}\r\n\r\n\t.createInput>input {\r\n\t\twidth: 100%;\r\n\t\tborder: none;\r\n\t\tborder-bottom: #1296DB solid 2rpx;\r\n\t\ttext-align: left;\r\n\t\tpadding-left: 8rpx;\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t}\r\n\r\n\t.confirmBtn {\r\n\t\theight: 70rpx;\r\n\t\twidth: 70rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 140rpx;\r\n\t\tright: 60rpx;\r\n\t}\r\n\r\n\t.confirmBtn>image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.deleteBtn {\r\n\t\theight: 70rpx;\r\n\t\twidth: 70rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 60rpx;\r\n\t\tright: 60rpx;\r\n\t}\r\n\r\n\t.deleteBtn>image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.confirmDeleteTxt {\r\n\t\tcolor: #ED1C24;\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t}\r\n\r\n\t.left {\r\n\t\tmargin-left: 16rpx;\r\n\t}\r\n\r\n\t.right {\r\n\t\tmargin-right: 16rpx;\r\n\t}\r\n\r\n\t.pickerFontStyle {\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t\tcolor: #707070;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.marginBetween {\r\n\t\tmargin-left: 8rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.fontFamily {\r\n\t\tfont-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n\t}\r\n</style>\n"],"sourceRoot":""}